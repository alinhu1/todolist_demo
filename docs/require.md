# 代办工具需求分析文档

## 背景与目标
### 背景
创建一款免费且易于使用的在线代办事项管理工具，旨在帮助用户高效管理个人任务，同时确保数据的安全性与隐私性。

### 目标
实现用户任务的本地保存功能，以及基本的任务操作工具。

## 功能需求
### 1. 免费且易于管理个人任务
- 用户需求：用户希望软件不收费，且界面和操作简单，不需要复杂学习
- 合理性：合理，免费软件在市面上是常见的
- 优先级：这是基础，需要优先实现
- 解决方案：基础功能免费

### 2.快速创建
- 用户需求：用户希望能像便利签一样快速记录任务，无需填写冗余的信息，输入就可以保存
- 合理性：合理，因为符合操作简单
- 解决方案：主界面顶部固定输入栏，回车即保存

### 3.快速标记
- 用户需求：用户希望对任务进行快速标记，用√直观显示
- 合理性：合理，因为满足操作简单，减少操作步骤，提升效率，同时用户完成后能立即看到变化
- 风险：用户可以误点已完成
- 解决方案：允许重新点击√取消完成状态

### 4.筛选功能
- 用户需求：用户希望在面对任务量大的时候能快速找到未完成的任务，避免手动翻找
- 合理性：合理，因为任务多了之后没有筛选功能会很难用
- 冲突：与页面简洁性冲突，页面太多数据
- 解决方案：可以通过筛选按钮进行过滤已完成、未完成、全部数据

### 5.本地保存与离线访问
- 用户需求：用户希望数据保存到本地，无需网络也可访问
- 合理性：合理，因为用户可能处于无网络环境状态
- 冲突：与协作处理的实时同步冲突，因为协作处理需要网络
- 解决方案：分阶段处理，先实现本地保存，后续再处理协作同步

### 6.协作查看他人任务列表
- 用户需求：用户希望能够请求查看他人的任务列表，以方便协作 
- 合理性：部分合理，因为协作与本地保存冲突
- 冲突：因为用户同时希望数据存储在本地，而协作通常需要网络同步。
- 解决方案：先解决个人任务管理，协作可以作为后续扩展


## 系统架构
| 对比 | RBAC | ZenStack |
| :----: | :-----: | :----:|
| 权限 | 提供现成的角色和权限管理，但需要较多的代码和配置 | 声明式简化开发流程，减少样板代码
| Node.js兼容性| 需要选择Node.js兼容的库，集成ORM工具，增加配置复杂度 | 与Node.js和Prisma绑定，可无缝链接PostgreSQL
| 场景 | 复杂角色继承，动态职责分离 |需求简单，适合角色基础访问控制

采用zenstack的声明式权限模型，因为与Prisma和PostgreSQL集成，可以简化数据权限控制，通过自动生成API提高开发效率，在当前的需求中，权限模型主要为角色基础访问控制（RBAC0），不需要复杂集成或职责分离，zenstack就可以覆盖需求。
- **前端**：React,tanstack
- **后端**：Node.js、zenstack
- **数据库**：PostgreSQL
- **部署**：vercel

